{"ast":null,"code":"import React,{createContext,useState,useContext,useCallback}from'react';// 创建上下文\nimport{jsx as _jsx}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext();// 通知提供者组件\nexport const NotificationProvider=_ref=>{let{children}=_ref;const[notifications,setNotifications]=useState([]);// 显示通知\nconst showNotification=useCallback(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5000;const id=Date.now()+Math.random().toString(36).substr(2,5);const notification={id,message,type,duration};setNotifications(prev=>[...prev,notification]);// 设置自动关闭\nif(duration>0){setTimeout(()=>{closeNotification(id);},duration);}return id;},[]);// 关闭通知\nconst closeNotification=useCallback(id=>{setNotifications(prev=>prev.filter(notification=>notification.id!==id));},[]);// 便捷方法\nconst info=useCallback(function(message){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5000;return showNotification(message,'info',duration);},[showNotification]);const success=useCallback(function(message){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5000;return showNotification(message,'success',duration);},[showNotification]);const error=useCallback(function(message){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:7000;return showNotification(message,'error',duration);},[showNotification]);const warning=useCallback(function(message){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6000;return showNotification(message,'warning',duration);},[showNotification]);return/*#__PURE__*/_jsx(NotificationContext.Provider,{value:{notifications,showNotification,closeNotification,info,success,error,warning},children:children});};// 自定义Hook，用于在组件中访问通知功能\nexport const useNotification=()=>{const context=useContext(NotificationContext);if(!context){throw new Error('useNotification must be used within a NotificationProvider');}return context;};","map":{"version":3,"names":["React","createContext","useState","useContext","useCallback","jsx","_jsx","NotificationContext","NotificationProvider","_ref","children","notifications","setNotifications","showNotification","message","type","arguments","length","undefined","duration","id","Date","now","Math","random","toString","substr","notification","prev","setTimeout","closeNotification","filter","info","success","error","warning","Provider","value","useNotification","context","Error"],"sources":["/Users/niko/digital-human/frontend/src/contexts/NotificationContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useCallback } from 'react';\n\n// 创建上下文\nconst NotificationContext = createContext();\n\n// 通知提供者组件\nexport const NotificationProvider = ({ children }) => {\n  const [notifications, setNotifications] = useState([]);\n\n  // 显示通知\n  const showNotification = useCallback((message, type = 'info', duration = 5000) => {\n    const id = Date.now() + Math.random().toString(36).substr(2, 5);\n    const notification = { id, message, type, duration };\n    \n    setNotifications(prev => [...prev, notification]);\n    \n    // 设置自动关闭\n    if (duration > 0) {\n      setTimeout(() => {\n        closeNotification(id);\n      }, duration);\n    }\n    \n    return id;\n  }, []);\n\n  // 关闭通知\n  const closeNotification = useCallback((id) => {\n    setNotifications(prev => prev.filter(notification => notification.id !== id));\n  }, []);\n\n  // 便捷方法\n  const info = useCallback((message, duration = 5000) => {\n    return showNotification(message, 'info', duration);\n  }, [showNotification]);\n\n  const success = useCallback((message, duration = 5000) => {\n    return showNotification(message, 'success', duration);\n  }, [showNotification]);\n\n  const error = useCallback((message, duration = 7000) => {\n    return showNotification(message, 'error', duration);\n  }, [showNotification]);\n\n  const warning = useCallback((message, duration = 6000) => {\n    return showNotification(message, 'warning', duration);\n  }, [showNotification]);\n\n  return (\n    <NotificationContext.Provider \n      value={{ \n        notifications, \n        showNotification, \n        closeNotification,\n        info,\n        success,\n        error,\n        warning\n      }}\n    >\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\n// 自定义Hook，用于在组件中访问通知功能\nexport const useNotification = () => {\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotification must be used within a NotificationProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}