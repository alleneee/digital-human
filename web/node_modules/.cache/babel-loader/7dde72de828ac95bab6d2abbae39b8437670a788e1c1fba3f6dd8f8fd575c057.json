{"ast":null,"code":"import { chunkArray } from \"../lib/helpers\";\nconst wordMap = word => {\n  return {\n    word: word.text,\n    start: word.start,\n    end: word.end,\n    confidence: word.confidence,\n    punctuated_word: word.text,\n    speaker: word.speaker\n  };\n};\nexport class AssemblyAiConverter {\n  constructor(transcriptionData) {\n    this.transcriptionData = transcriptionData;\n  }\n  getLines(lineLength = 8) {\n    const results = this.transcriptionData;\n    let content = [];\n    if (results.utterances) {\n      results.utterances.forEach(utterance => {\n        if (utterance.words.length > lineLength) {\n          content.push(...chunkArray(utterance.words.map(w => wordMap(w)), lineLength));\n        } else {\n          content.push(utterance.words.map(w => wordMap(w)));\n        }\n      });\n    } else {\n      content.push(...chunkArray(results.words.map(w => wordMap(w)), lineLength));\n    }\n    return content;\n  }\n  getHeaders() {\n    const output = [];\n    output.push(\"NOTE\");\n    output.push(\"Transcription provided by Assembly AI\");\n    this.transcriptionData.id ? output.push(`Id: ${this.transcriptionData.id}`) : null;\n    this.transcriptionData.audio_duration ? output.push(`Duration: ${this.transcriptionData.audio_duration}`) : null;\n    return output;\n  }\n}","map":{"version":3,"names":["chunkArray","wordMap","word","text","start","end","confidence","punctuated_word","speaker","AssemblyAiConverter","constructor","transcriptionData","getLines","lineLength","results","content","utterances","forEach","utterance","words","length","push","map","w","getHeaders","output","id","audio_duration"],"sources":["/Users/niko/node_modules/.pnpm/@deepgram+captions@1.2.0/node_modules/@deepgram/captions/src/converters/AssemblyAiConverter.ts"],"sourcesContent":["import { chunkArray } from \"../lib/helpers\";\nimport { WordBase } from \"../lib/types\";\nimport { IConverter } from \"./IConverter\";\n\nconst wordMap = (word: any): WordBase => {\n  return {\n    word: word.text,\n    start: word.start,\n    end: word.end,\n    confidence: word.confidence,\n    punctuated_word: word.text,\n    speaker: word.speaker,\n  };\n};\n\nexport class AssemblyAiConverter implements IConverter {\n  constructor(public transcriptionData: any) {}\n\n  getLines(lineLength: number = 8): WordBase[][] {\n    const results = this.transcriptionData;\n    let content: WordBase[][] = [];\n\n    if (results.utterances) {\n      results.utterances.forEach((utterance: any) => {\n        if (utterance.words.length > lineLength) {\n          content.push(\n            ...chunkArray(\n              utterance.words.map((w: any) => wordMap(w)),\n              lineLength\n            )\n          );\n        } else {\n          content.push(utterance.words.map((w: any) => wordMap(w)));\n        }\n      });\n    } else {\n      content.push(\n        ...chunkArray(\n          results.words.map((w: any) => wordMap(w)),\n          lineLength\n        )\n      );\n    }\n\n    return content;\n  }\n\n  getHeaders(): string[] {\n    const output: string[] = [];\n\n    output.push(\"NOTE\");\n    output.push(\"Transcription provided by Assembly AI\");\n    this.transcriptionData.id ? output.push(`Id: ${this.transcriptionData.id}`) : null;\n    this.transcriptionData.audio_duration\n      ? output.push(`Duration: ${this.transcriptionData.audio_duration}`)\n      : null;\n\n    return output;\n  }\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,gBAAgB;AAI3C,MAAMC,OAAO,GAAIC,IAAS,IAAc;EACtC,OAAO;IACLA,IAAI,EAAEA,IAAI,CAACC,IAAI;IACfC,KAAK,EAAEF,IAAI,CAACE,KAAK;IACjBC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,UAAU,EAAEJ,IAAI,CAACI,UAAU;IAC3BC,eAAe,EAAEL,IAAI,CAACC,IAAI;IAC1BK,OAAO,EAAEN,IAAI,CAACM;GACf;AACH,CAAC;AAED,OAAM,MAAOC,mBAAmB;EAC9BC,YAAmBC,iBAAsB;IAAtB,KAAAA,iBAAiB,GAAjBA,iBAAiB;EAAQ;EAE5CC,QAAQA,CAACC,UAAA,GAAqB,CAAC;IAC7B,MAAMC,OAAO,GAAG,IAAI,CAACH,iBAAiB;IACtC,IAAII,OAAO,GAAiB,EAAE;IAE9B,IAAID,OAAO,CAACE,UAAU,EAAE;MACtBF,OAAO,CAACE,UAAU,CAACC,OAAO,CAAEC,SAAc,IAAI;QAC5C,IAAIA,SAAS,CAACC,KAAK,CAACC,MAAM,GAAGP,UAAU,EAAE;UACvCE,OAAO,CAACM,IAAI,CACV,GAAGrB,UAAU,CACXkB,SAAS,CAACC,KAAK,CAACG,GAAG,CAAEC,CAAM,IAAKtB,OAAO,CAACsB,CAAC,CAAC,CAAC,EAC3CV,UAAU,CACX,CACF;SACF,MAAM;UACLE,OAAO,CAACM,IAAI,CAACH,SAAS,CAACC,KAAK,CAACG,GAAG,CAAEC,CAAM,IAAKtB,OAAO,CAACsB,CAAC,CAAC,CAAC,CAAC;;MAE7D,CAAC,CAAC;KACH,MAAM;MACLR,OAAO,CAACM,IAAI,CACV,GAAGrB,UAAU,CACXc,OAAO,CAACK,KAAK,CAACG,GAAG,CAAEC,CAAM,IAAKtB,OAAO,CAACsB,CAAC,CAAC,CAAC,EACzCV,UAAU,CACX,CACF;;IAGH,OAAOE,OAAO;EAChB;EAEAS,UAAUA,CAAA;IACR,MAAMC,MAAM,GAAa,EAAE;IAE3BA,MAAM,CAACJ,IAAI,CAAC,MAAM,CAAC;IACnBI,MAAM,CAACJ,IAAI,CAAC,uCAAuC,CAAC;IACpD,IAAI,CAACV,iBAAiB,CAACe,EAAE,GAAGD,MAAM,CAACJ,IAAI,CAAC,OAAO,IAAI,CAACV,iBAAiB,CAACe,EAAE,EAAE,CAAC,GAAG,IAAI;IAClF,IAAI,CAACf,iBAAiB,CAACgB,cAAc,GACjCF,MAAM,CAACJ,IAAI,CAAC,aAAa,IAAI,CAACV,iBAAiB,CAACgB,cAAc,EAAE,CAAC,GACjE,IAAI;IAER,OAAOF,MAAM;EACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}